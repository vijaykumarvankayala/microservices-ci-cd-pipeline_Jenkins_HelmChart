grafana:
  admin:
    existingSecret: grafana-admin-secret
    userKey: admin-user
    passwordKey: admin-password
  dashboards:
    default:
      jenkins-dashboard:
        json: |-
          {
            "annotations": {
              "list": [
                {
                  "builtIn": 1,
                  "type": "dashboard"
                }
              ]
            },
            "panels": [
              {
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "unit": "short"
                  }
                },
                "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 0,
                  "y": 0
                },
                "id": 1,
                "title": "Jenkins Job Success Rate",
                "type": "timeseries",
                "targets": [
                  {
                    "expr": "sum(rate(jenkins_job_success{job=\"jenkins\"}[5m])) by (job)",
                    "legendFormat": "{{job}}",
                    "refId": "A"
                  }
                ]
              },
              {
                "datasource": "Prometheus",
                "fieldConfig": {
                  "defaults": {
                    "unit": "s"
                  }
                },
                "gridPos": {
                  "h": 8,
                  "w": 12,
                  "x": 12,
                  "y": 0
                },
                "id": 2,
                "title": "Build Duration",
                "type": "timeseries",
                "targets": [
                  {
                    "expr": "avg(jenkins_build_duration_seconds{job=\"jenkins\"})",
                    "legendFormat": "Build Time",
                    "refId": "A"
                  }
                ]
              },
              {
                "datasource": "Prometheus",
                "gridPos": {
                  "h": 6,
                  "w": 24,
                  "x": 0,
                  "y": 8
                },
                "id": 3,
                "title": "Falco Security Events",
                "type": "table",
                "targets": [
                  {
                    "expr": "count by (rule) (rate(falco_events_total[1m]))",
                    "refId": "A"
                  }
                ]
              }
            ],
            "title": "Jenkins CI/CD Metrics"
          }
